var gaconnector2=function(){function e(e,n){console.log(e);var t=new XMLHttpRequest;t.open("GET",e,!0),t.send()}function n(){var e=i("_ga"),n=window[window.GoogleAnalyticsObject];if("string"==typeof e&&e.length>0){var t=e.split(".");return t.slice(t.length-2,t.length).join(".")}if(void 0!==n&&void 0!==n.getAll){var o=n.getAll()[0];if(void 0!==o)return o.get("clientId")}}function t(){void 0===(T=n())&&setTimeout(t,500)}function o(e){var n=/[-\w]+\.(?:[-\w]+\.xn--[-\w]+|[-\w]{2,}|[-\w]+\.[-\w]{2})$/i,t=e.split("/")[2],o=n.exec(t);if("object"==typeof o&&o instanceof Array&&o.length>0)return o[0]}function r(e){var n=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=n&&n.length>2&&"string"==typeof n[2]&&n[2].length>0?n[2]:null}function a(e,n,t){t=365,console.log("setting cookie "+e);var r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3);var a="expires="+r.toUTCString();document.cookie=e+"="+n+"; "+a+";domain=."+o(document.location.href)+";path=/"}function c(e,n,t){U?localStorage.setItem(e,n):a(e,n,t)}function i(e){e+="=";for(var n=document.cookie.split(";"),t=0;t<n.length;t++){for(var o=n[t];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}function u(e){return U?localStorage.getItem(e)||i(e):i(e)}function d(e){console.log("deleting value "+e),U&&localStorage.getItem(e)?localStorage.removeItem(e):c(e,"",0)}function l(e,n){n=void 0===n?document.location.search:n;try{var t=n.match("[?&]"+e+"=([^&]+)");if(t){var o=t[1];return o=o.replace(/\+/g,"%20"),o=decodeURIComponent(o)}return""}catch(e){return""}}function f(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function g(e){return e}function m(e,n){var t=g(e),o=g(n);-1===M.indexOf(e+"="+n)&&c("gaconnector2_"+t,o)}function s(){for(var e={},n=document.cookie.split("; "),t=0;t<n.length;t++){var o=n[t].split("=")[0],r=n[t].split("=").slice(1).join("=");o.length>13&&"gaconnector2_"==o.substring(0,13)&&(e[o.replace("gaconnector2_","")]=r)}return e}function h(){for(var e=Object.keys(localStorage),n={},t=0;t<e.length;t++)"gaconnector2_"===e[t].substr(0,13)&&(n[e[t].replace("gaconnector2_","")]=localStorage.getItem(e[t]));return n}function v(){return U?h():s()}function p(){var e=v();for(var n in G){var t=g(G[n]),o=e[t];""!==o&&void 0!==o&&(y(t,o),d("gaconnector2_"+t))}}function y(n,t){if(-1===M.indexOf(n+"="+t)&&""!==W){var o="https://track.gaconnector.com/save_identifier";o+="?gaconnector_id="+W,o+="&account_id="+L,o+="&name="+n;e(o+="&value_hash="+(t?D(t.toLowerCase()):""),function(){M.push(n+"="+t),d("gaconnector2_"+n)})}}function w(e,n){m(e,n),y(e,n)}function _(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function b(){for(var e=document.getElementsByTagName("input"),n=0;n<e.length;n++)e[n].getAttribute("data-gaconnector-tracked")||-1===B.indexOf(e[n].type)&&(e[n].setAttribute("data-gaconnector-tracked",!0),e[n].addEventListener("change",function(e){if(_(e.target.value))w("email",e.target.value);else for(var n in $)for(var t=$[n],o=0;o<t.length;o++){var r=t[o];(r.test(e.target.name)||r.test(e.target.id))&&w(n,e.target.value)}}))}function C(){var t="https://track.gaconnector.com/track_pageview";""!=document.location.search?(t+=document.location.search,t+="&"):t+="?",t+="gaconnector_id="+W,t+="&account_id="+L,t+="&referer="+encodeURIComponent(document.referrer),t+="&GA_Client_ID="+n(),t+="&page_url="+encodeURIComponent(window.location.href),t+="&gclid="+encodeURIComponent(l("gclid",window.location.href)),t+="&utm_campaign="+encodeURIComponent(l("utm_campaign",window.location.href)),t+="&utm_term="+encodeURIComponent(l("utm_term",window.location.href)),t+="&utm_content="+encodeURIComponent(l("utm_content",window.location.href)),t+="&utm_source="+encodeURIComponent(l("utm_source",window.location.href)),e(t+="&utm_medium="+encodeURIComponent(l("utm_medium",window.location.href)))}function I(){return self!==top}function S(){for(var e=document.querySelectorAll("iframe"),n=0;n<e.length;n++){var t=e[n].contentWindow,o={gaconnectorId:W,accountId:L};t.postMessage(o,"*")}}function A(e){"object"==typeof e.data&&void 0!==e.data.gaconnectorId&&(W=e.data.gaconnectorId,L=e.data.accountId,c("gaconnector2_id",W,365))}function E(){I()?(console.log("Adding receiveGaConnectorId listener"),window.addEventListener("message",A,!1)):(console.log("Messaging child iframes"),S(),setInterval(S,1e3))}function j(e){var n=e.dataset.originalHref;void 0===n&&(e.dataset.originalHref=e.href,n=e.href);var t;return t=n.indexOf("?")>-1?"&":"?",e.href=n+t+"gaconnectorId="+W,e.href}function R(){for(var e=o(document.location.href),n=r(document.location.href),t=document.getElementsByTagName("a"),a=0;a<t.length;a++){var c=t[a],i=o(c.href),u=r(c.href);H.indexOf(i)>-1&&i!==e?j(c):U&&H.indexOf(u)>-1&&u!==n&&j(c)}}function k(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function x(e){localStorage.removeItem(e)}function O(e){var n=!!window.localStorage&&!!window.localStorage.setItem,t=!!e&&"localStorage"===e.storageEngine,o=!e||"string"!=typeof e.storageEngine,r=!!e&&!!e.internalDomains&&!!e.internalDomains.length;U=n&&(t||o&&!r),gaconnector2.useLocalStorage=U;var a=s(),i=h();if(U)for(var u in a)a[u]&&!i[u]&&c("gaconnector2_"+u,a[u]),k("gaconnector2_"+u);else for(var u in i)i[u]&&!a[u]&&c("gaconnector2_"+u,i[u]),x("gaconnector2_"+u)}var T,L,U=!0,D=function(e){function n(e,n){return e>>>n|e<<32-n}function t(e,n){return e>>>n}function o(e,n,t){return e&n^~e&t}function r(e,n,t){return e&n^e&t^n&t}function a(e){return n(e,2)^n(e,13)^n(e,22)}function c(e){return n(e,6)^n(e,11)^n(e,25)}function i(e){return n(e,7)^n(e,18)^t(e,3)}function u(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}var d,l=new Array(1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998);return(d=e,function(e){for(var n,t="0123456789abcdef",o="",r=0;r<e.length;r++)n=e.charCodeAt(r),o+=t.charAt(n>>>4&15)+t.charAt(15&n);return o}(function(e){return function(e){for(var n="",t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>24-t%32&255);return n}(function(e,d){var f,g,m,s,h,v,p,y,w,_,b,C,I=new Array(1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225),S=new Array(64);for(e[d>>5]|=128<<24-d%32,e[15+(d+64>>9<<4)]=d,w=0;w<e.length;w+=16){for(f=I[0],g=I[1],m=I[2],s=I[3],h=I[4],v=I[5],p=I[6],y=I[7],_=0;_<64;_++)S[_]=_<16?e[_+w]:u(u(u(n(A=S[_-2],17)^n(A,19)^t(A,10),S[_-7]),i(S[_-15])),S[_-16]),b=u(u(u(u(y,c(h)),o(h,v,p)),l[_]),S[_]),C=u(a(f),r(f,g,m)),y=p,p=v,v=h,h=u(s,b),s=m,m=g,g=f,f=u(b,C);I[0]=u(f,I[0]),I[1]=u(g,I[1]),I[2]=u(m,I[2]),I[3]=u(s,I[3]),I[4]=u(h,I[4]),I[5]=u(v,I[5]),I[6]=u(p,I[6]),I[7]=u(y,I[7])}var A;return I}(function(e){for(var n=Array(e.length>>2),t=0;t<n.length;t++)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<24-t%32;return n}(e),8*e.length))}(function(e){for(var n,t,o="",r=-1;++r<e.length;)n=e.charCodeAt(r),t=r+1<e.length?e.charCodeAt(r+1):0,55296<=n&&n<=56319&&56320<=t&&t<=57343&&(n=65536+((1023&n)<<10)+(1023&t),r++),n<=127?o+=String.fromCharCode(n):n<=2047?o+=String.fromCharCode(192|n>>>6&31,128|63&n):n<=65535?o+=String.fromCharCode(224|n>>>12&15,128|n>>>6&63,128|63&n):n<=2097151&&(o+=String.fromCharCode(240|n>>>18&7,128|n>>>12&63,128|n>>>6&63,128|63&n));return o}(d)))).toUpperCase()};window.localStorage&&window.localStorage.setItem;t();var W=null,M=[],G=["name","email","phone"],$={name:[/^name$/i,/^user.*name$/i],email:[/email/i],phone:[/phone/i]},B=["color","date","datetime-local","month","number","range","search","time","url","week"],H=null,N=function(){function e(){if(!r.isReady){try{document.documentElement.doScroll("left")}catch(n){return void setTimeout(e,1)}r.ready()}}var n,t,o={};o["[object Boolean]"]="boolean",o["[object Number]"]="number",o["[object String]"]="string",o["[object Function]"]="function",o["[object Array]"]="array",o["[object Date]"]="date",o["[object RegExp]"]="regexp",o["[object Object]"]="object";var r={isReady:!1,readyWait:1,holdReady:function(e){e?r.readyWait++:r.ready(!0)},ready:function(e){if(!0===e&&!--r.readyWait||!0!==e&&!r.isReady){if(!document.body)return setTimeout(r.ready,1);if(r.isReady=!0,!0!==e&&--r.readyWait>0)return;n.resolveWith(document,[r])}},bindReady:function(){if(!n){if(n=r._Deferred(),"complete"===document.readyState)return setTimeout(r.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",r.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",t),window.attachEvent("onload",r.ready);var o=!1;try{o=null==window.frameElement}catch(e){}document.documentElement.doScroll&&o&&e()}}},_Deferred:function(){var e,n,t,o=[],a={done:function(){if(!t){var n,c,i,u,d,l=arguments;for(e&&(d=e,e=0),n=0,c=l.length;n<c;n++)i=l[n],"array"===(u=r.type(i))?a.done.apply(a,i):"function"===u&&o.push(i);d&&a.resolveWith(d[0],d[1])}return this},resolveWith:function(r,a){if(!t&&!e&&!n){a=a||[],n=1;try{for(;o[0];)o.shift().apply(r,a)}finally{e=[r,a],n=0}}return this},resolve:function(){return a.resolveWith(this,arguments),this},isResolved:function(){return!(!n&&!e)},cancel:function(){return t=1,o=[],this}};return a},type:function(e){return null==e?String(e):o[Object.prototype.toString.call(e)]||"object"}};return document.addEventListener?t=function(){document.removeEventListener("DOMContentLoaded",t,!1),r.ready()}:document.attachEvent&&(t=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",t),r.ready())}),function(e){r.bindReady(),r.type(e),n.done(e)}}();return{track:function(e,n){L=e,O(n),(W=l("gaconnectorId")||u("gaconnectorId")||u("gaconnector2_id")||f())!==u("gaconnector2_id")&&c("gaconnector2_id",W,365),W=W,void 0!==n&&void 0!==n.iframeEnabled&&!0!==n.iframeEnabled||E();var t="object"==typeof n&&!0===n.automatedTesting;I()&&!t||C(),p(),N(function(e){b(),setInterval(b,1e3),void 0!==n&&void 0!==(H=n.internalDomains)&&(R(),setInterval(R,1e3))})},identify:w}}();